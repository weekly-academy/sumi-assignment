# 양방향 관계에서 엔티티 저장 방법에 대한 질문 : 연관관계 편의메소드   

멘토님께 질문을 하면서 깨달은 내용이다.

개발을 하면서 코드에서 뭔가 이상함을 느꼈는데, 바로 양방향 설정을 해주었던 바코드와 멤버의 관계였다.

코드를 보니까 이런 상황을 거쳐야했다.
```
멤버 만들고, 바코드를 만들고, 바코드에 멤버를 할당하고, 다시 멤버에 바코드를 할당해야함
```

이런 문제점을 제기했을 때 멘토님은 `연관관계 편의메소드`를 검색해서 찾아보라고 하셨다. 이걸 찾아보자마자 또 아! 와! 하는 탄식이 일어났다.
해결책은 **하나의 메소드에서 양측의 관계를 설정하게 해주는 것**이다.

<br>

그래서 다음과 같이 리팩토링하였다. 이렇게 하면, 멤버를 만들고, 바코드를 만들고, **바코드에 멤버를 할당할 때 멤버에도 바코드가 할당된다.**

```
  public void assignMember(Member member) {
        this.member = member;
        member.assignBarcode(this);
    }
```

멘토님이 말하시길 대부분 `다대일 매핑`을 사용하고, 필요한 경우에만 `양방향 매핑`을 사용한다고 한다. 예를 들면, 내가 속한 팀의 멤버도 알고싶고, 멤버의 팀도 알고싶을 때 사용한다.
